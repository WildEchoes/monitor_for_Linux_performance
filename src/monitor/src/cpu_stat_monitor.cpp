#include "cpu_stat_monitor.h"
#include "read_flie.h"

namespace monitor {
    CPUStatMonitor::CPUStatMonitor()
    {
    }

    void CPUStatMonitor::updateOnce(
        monitor::proto::MonitorInfo* monitorInfo
    )
    {
        // "cat /proc/stat" 
        /*
             user nice system idle iowait irq softirq steal guest guest_nice
        cpu  30820 0 18122 13408582 3569 0 4076 0 0 0
        cpu0 2065 0 1321 669033 289 0 3164 0 0 0
        cpu1 1656 0 639 670443 396 0 409 0 0 0
        cpu2 2139 0 1366 669110 251 0 128 0 0 0
        cpu3 1353 0 756 670671 335 0 50 0 0 0
        cpu4 2175 0 1317 669170 244 0 72 0 0 0
        cpu5 1117 0 560 671401 116 0 17 0 0 0
        cpu6 1745 0 1058 669993 186 0 32 0 0 0
        cpu7 650 0 436 672011 110 0 11 0 0 0
        cpu8 1809 0 1300 669672 225 0 28 0 0 0
        cpu9 826 0 521 671706 72 0 15 0 0 0
        cpu10 1813 0 1105 669942 207 0 28 0 0 0
        cpu11 665 0 457 672045 42 0 9 0 0 0
        cpu12 2211 0 1359 669018 322 0 24 0 0 0
        cpu13 751 0 432 671842 153 0 6 0 0 0
        cpu14 2411 0 1299 669132 104 0 11 0 0 0
        cpu15 872 0 400 671868 74 0 12 0 0 0
        cpu16 1965 0 1229 669666 78 0 16 0 0 0
        cpu17 1206 0 620 671228 104 0 12 0 0 0
        cpu18 2488 0 1423 669023 114 0 21 0 0 0
        cpu19 903 0 524 671599 137 0 11 0 0 0
        intr 3650426 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1385 1 3 24 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
        ctxt 12957326
        btime 1722995167
        processes 74159
        procs_running 2
        procs_blocked 0
        softirq 3345916 0 322913 1 217487 8373 0 244400 1298327 0 1254415
        */
        
        ReadFile cpu_stat_file(std::string("/proc/stat"));
        std::vector<std::string> cpu_stat_list{};

        while ()
    }
}